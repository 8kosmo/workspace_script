<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>팝업 창에 해당항목의 내용표시</title>
<link rel="stylesheet" type="text/css" href="pictureMain.css"/>
<script type="text/javascript">
    //ajax코드 추가하기 - javascript - 주의사항 : 돔구성이 완료되었을 때 처리할 내용
    var xhrObject = null;//전역변수 선언
    function createRequest(){
        try {
            xhrObject = new XMLHttpRequest(); //비동기통신 객체 생성
        }catch(trymicrosoft) {
            xhrObject = null;
        }
        if(xhrObject==null){ 
            alert("비동기 통신객체 생성 실패!!!");
        }
    }
    function startMethod(td){
        createRequest();//비동기통신 객체 생성 메소드 호출 - 전역변수로 초기화됨
        // document.getElementById("popupContent").innerHTML = "startMethod";
        //콜백메소드 이름 선언
        xhrObject.onreadystatechange = popup_process;
        //옵션 추가
        //1)전송방식 - get[query string,링크,제약,노출]|post [get의 반대]
        //2)목적지 - 요청을 누가처리하지? - XXX.jsp(오라클통신,자바코드활용,데이터)
        //3)옵션 - true:비동기처리, 여러가지 처리를 한다는것은 비동기처리라고 한다
        var url="./pictureinfo.jsp";
        xhrObject.open("GET",url,true);
        //전송
        xhrObject.send(null);
    }
    function result_process(){
        var temp = xhrObject.responseText;
        document.getElementById("popupContent").innerText =  temp;
    }
    function popup_process(){
        if(xhrObject.readyState==4){//상태값이 4일 떄
        	alert(xhrObject.status);
            if(xhrObject.status==200){//서버에서 응답온 값이 200 ok
                result_process();
            }
            else if(xhrObject.status==204){//서버에서 응답온 값이 204 fail
            }
        }
    }
    function clearMethod(){
        document.getElementById("popupContent").innerHTML = "";
    }
</script>
</head>
<body>
<!-- colspan="2"는 옆셀과 병합하기임, 여기서는 두 칸이 병합됨. 3 이면 세칸이 4이면 네칸이 병합
    위 아래로 병합할 때는 rowspan="2"위쪽과 아래쪽 셀이 병합됨
 -->
<table>
    <thead>
        <th colspan="2">그림 목록</th>
    </thead>
    <tbody>
        <tr>
        <td align="center"><img src="../picture/images/1.jpg" width="120" height="120"/></td>
        <td id="1" onmouseover="startMethod(this)" onmouseout="clearMethod()">조인성</td>
        </tr>
        <tr>
        <td align="center"><img src="../picture/images/2.jpg" width="150" height="100"/></td>
        <td id="2" onmouseover="startMethod(this)" onmouseout="clearMethod()">정우성</td>
        </tr>
        <tr>
        <td align="center"><img src="../picture/images/3.jpg" width="145" height="110"/></td>
        <td id="3" onmouseover="startMethod(this)" onmouseout="clearMethod()">강동원</td>
        </tr>
        <tr>
        <td align="center"><img src="../picture/images/4.jpg" width="115" height="125"/></td>
        <td id="4" onmouseover="startMethod(this)" onmouseout="clearMethod()">고수</td>
        </tr>
    </tbody>
</table>
<div id="popupContent">여기</div>
</body>
</html>